<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíå Voor Jou</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: pink;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

/* üíå Brief scherm */
#letterScreen {
    font-size: 160px;
    cursor: pointer;
    animation: float 2s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-50px); }
}

/* ‚ù§Ô∏è Vraag scherm */
#questionScreen {
    display: none;
}

.card {
    margin: 15px;
    background: white;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    position: relative;
    z-index: 1; /* kaart boven de vallende hartjes */
}

button {
    padding: 15px 25px;
    font-size: 18px;
    margin: 15px;
    border: none;
    border-radius: 12px;
}

#yes {
    background: #4CAF50;
    color: white;
}

#no {
    background: #f44336;
    color: white;
    position: fixed;
}

/* ‚ûï Hartjesregen */
.heart {
    position: fixed;
    top: -40px;              /* start net boven beeld */
    font-size: 16px;         /* basis, wordt per hartje gevarieerd */
    pointer-events: none;    /* klik niet blokkeren */
    animation-name: fall, sway;
    animation-timing-function: linear, ease-in-out;
    animation-iteration-count: 1, infinite;
    opacity: 0.9;
    will-change: transform, top, left;
}

/* vallen */
@keyframes fall {
    to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 1;
    }
}

/* zacht wiebelen links-rechts */
@keyframes sway {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(20px); }
}
</style>
</head>

<body>

<!-- üíå START: Brief -->
<div id="letterScreen" aria-label="Open de brief">üíå</div>

<!-- ‚ù§Ô∏è VRAAG -->
<div id="questionScreen" aria-live="polite">
    <div class="card">
        <h1>Wil je mijn Valentijn zijn? ‚ù§Ô∏è</h1>
        <button id="yes">Ja</button>
        <button id="no">Nee</button>
    </div>
</div>

<script>
const letterScreen = document.getElementById("letterScreen");
const questionScreen = document.getElementById("questionScreen");
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");

/* ‚ûï Hartjesregen configuratie */
let heartIntervalId = null;
const HEARTS_PER_SECOND = 12;     // pas dit aan voor meer/minder hartjes
const HEART_EMOJIS = ["üíó","üíñ","üíò","üíù","‚ù§Ô∏è","ü©∑","üíï","üíû"];

/* ‚ûï Start hartjesregen */
function startHeartRain() {
    stopHeartRain(); // voor de zekerheid, nooit dubbel
    heartIntervalId = setInterval(spawnHeart, 1000 / HEARTS_PER_SECOND);
}

/* ‚ûï Stop hartjesregen (optioneel te gebruiken) */
function stopHeartRain() {
    if (heartIntervalId) {
        clearInterval(heartIntervalId);
        heartIntervalId = null;
    }
}

/* ‚ûï Maak √©√©n hartje */
function spawnHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = HEART_EMOJIS[Math.floor(Math.random() * HEART_EMOJIS.length)];

    // willekeurige horizontale positie
    const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
    const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);

    const x = Math.random() * (vw - 24); // marge
    heart.style.left = `${x}px`;

    // grootte en duur vari√´ren
    const size = 14 + Math.random() * 28; // 14‚Äì42px
    heart.style.fontSize = `${size}px`;

    // duur van vallen 4‚Äì9s, sway 2‚Äì4s
    const fallDur = 4 + Math.random() * 5;
    const swayDur = 2 + Math.random() * 2;

    heart.style.animationDuration = `${fallDur}s, ${swayDur}s`;
    heart.style.animationDelay = `0s, ${Math.random()}s`;
    heart.style.filter = `hue-rotate(${Math.floor(Math.random()*15)-7}deg)`; // subtiele variatie

    document.body.appendChild(heart);

    // verwijderen na afloop om geheugen schoon te houden
    setTimeout(() => {
        heart.remove();
    }, (fallDur + 0.2) * 1000);
}

/* üíå Klik op brief ‚Üí toon vraag + hartjesregen */
letterScreen.addEventListener("click", () => {
    letterScreen.style.display = "none";
    questionScreen.style.display = "block";

    if (navigator.vibrate) {
        navigator.vibrate(50);
    }
    startHeartRain();
});

/* üòà Nee knop ontsnapt */
function moveNo() {
    const padding = 20;
    const maxX = window.innerWidth - noBtn.offsetWidth - padding;
    const maxY = window.innerHeight - noBtn.offsetHeight - padding;

    noBtn.style.left = Math.random() * maxX + "px";
    noBtn.style.top = Math.random() * maxY + "px";

    if (navigator.vibrate) {
        navigator.vibrate(30);
    }
}

noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("touchstart", (e) => {
    e.preventDefault();
    moveNo();
});

/* ‚ù§Ô∏è JA ‚Üí (optioneel) korte extra regen + door */
yesBtn.addEventListener("click", () => {
    // korte boost met extra hartjes voor effect
    const original = HEARTS_PER_SECOND;
    const boostMs = 800;
    stopHeartRain();
    const boostId = setInterval(spawnHeart, 25); // snelle regen
    setTimeout(() => {
        clearInterval(boostId);
        // eventueel stopHeartRain(); of juist doorlaten regenen
        window.location.href = "yes.html";
    }, boostMs);
});
</script>

</body>
</html>
